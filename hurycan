<?php

echo "Hurycan CLI Tool ðŸš€\n";

$jsonhurycan = __DIR__ . "/hurycan.json";

// Argumentumok ellenÅ‘rzÃ©se
if ($argc > 1) {
    switch ($argv[1]) {
        case 'i':
        case 'install':
            install();
            break;

        default:
            echo "Ismeretlen parancs: {$argv[1]}\n";
            break;
    }
}

function install() {
    global $jsonhurycan;
    
    echo "TelepÃ­tÃ©s megkezdÃ©se...\n";

    // Ha a JSON fÃ¡jl nem lÃ©tezik, hibÃ¡t ad
    if (!file_exists($jsonhurycan)) {
        echo "Hiba: A konfigurÃ¡ciÃ³s fÃ¡jl ($jsonhurycan) nem talÃ¡lhatÃ³!\n";
        return;
    }

    // JSON fÃ¡jl beolvasÃ¡sa
    $configData = json_decode(file_get_contents($jsonhurycan), true);

    if (!isset($configData["filepath"])) {
        echo "Hiba: A JSON fÃ¡jl nem tartalmaz 'filepath' kulcsot!\n";
        return;
    }

    // FÃ¡jlok ellenÅ‘rzÃ©se Ã©s lÃ©trehozÃ¡sa, ha nem lÃ©teznek
    foreach ($configData["filepath"] as $key => $filePath) {
        if (!file_exists($filePath)) {
            echo "FÃ¡jl nem talÃ¡lhatÃ³: $filePath, lÃ©trehozÃ¡s...\n";
            file_put_contents($filePath, ""); // Ãœres fÃ¡jl lÃ©trehozÃ¡sa
            echo "âœ… FÃ¡jl lÃ©trehozva: $filePath\n";
        } else {
            echo "âœ”ï¸ FÃ¡jl mÃ¡r lÃ©tezik: $filePath\n";
        }
    }

    echo "âœ… TelepÃ­tÃ©s befejezve.\n";
}

?>
